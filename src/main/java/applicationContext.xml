<?xml version="1.0" encoding="UTF-8"?>
<!-- 用于整合mybatis 与spring， 该文件是整个项目的空值中心，非常关键 -->

<bean xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xmlns:aop="http://www/springframework.org/schema/aop"
    xmlns:context="http://www.springframework.org/schema/context"
    xmlns:tx="http://www.springframework.org/schema/tx"
    xsi:schemaLocation="http://www/springframework.org/schema/beans
                        http://www.springframework.org/schema/beans/spring-beans.xsd
                        http://www.springframework.org/schema/context
                        http://www.springframework.org/schema/context/spring-context-4.3xsd
                        http://www.springframework.org/schema/aop
                        http://www.springframework.org/schema/aop/spring-aop-4.3.xsd
                        http://www.springframework.org/schema/tx
                        http://www.springframework.org/schema/tx/spring-tx-4.3.xsd">
                        
    <!-- 1.引入属性文件，在配置中占位使用 ?? -->
    <context:property-placeholder location="classpath*:db.properties" />

    <!-- 2.配置C3P0数据源 -->
    <bean id="datasource" class="com.mchange.v2.c3p0.ComboPolledDataSource" destory-method="close">
    	<!-- 驱动类名 -->
    	<property name="driverClass" value="${jdbc.driver}"></property>
    	
    	<!-- URL -->
    	<property name="jdbcUrl" value="${jdbc.url}"></property>
    	
    	<!-- 用户名 -->
    	<property name="user" value="${jdbc.uid}"></property>
    	
    	<!-- 密码 -->
    	<property name="password" value="${jdbc.pwd"></property>
    	
    	<!-- 当连接池中的连接耗尽的时候c3p0一次同时获取的连接数 -->
    	<property name="acquireIncrement" value="5"></property>
    	<!-- 初始连接池大小 -->
    	<property name="initialPoolSize" value="10"></property>
    	<!-- 连接池中连接的最小个数 -->
    	<property name="minPoolSize" value="5"></property>
    	<!-- 连接池中连接最大个数 -->
    	<property name="maxPoolSize" value="20"></property>
    	
    </bean>
    
    <!-- 3.会话工厂bean sqlSessionFactoryBean -->
    <bean>
    	<!-- 数据源 -->
    	<property name="dataSource" ref="datasource"></property>
    	<!-- 别名 -->
    	<property name="typeAliasesPackage" value="com.liyidan.bookstore.entities"></property>
    	<!-- sql映射文件路径 -->
    	<property name="mapperLocations" value="classpath*:com/liyidan/bookstore/mapper/*Mapper.xml"></property>
    </bean>
    
    <!-- 4.自动扫描对象关系映射 -->
    <bean>
    
    </bean>




</bean>